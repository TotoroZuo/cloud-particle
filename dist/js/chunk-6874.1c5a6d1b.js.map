{"version":3,"sources":["webpack:///./src/pages/login/Login.vue?fca2","webpack:///./src/pages/login/Login.vue?44a6","webpack:///src/pages/login/Login.vue","webpack:///./src/pages/login/Login.vue?3c05","webpack:///./src/pages/login/Login.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Login_vue_vue_type_style_index_0_id_d73f7252_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","a","278c","s","i","t","4b3f","r","staticRenderFns","thisYear","Date","getFullYear","login_Loginvue_type_script_lang_js_","Loginvue_type_script_lang_js_","name","data","copyRight","config","curYear","showSlogan","showPaper","activeLoginType","username","password","errMsg","loginDoing","mounted","_this","this","setTimeout","methods","changeLoginType","tab","event","doLogin","_this2","params","userName","replace","$apis","user","then","res","code","$store","commit","$notify","message","type","position","duration","onClose","$router","push","catch","error","console","log","computed","inputFull","c","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","placeholder","nativeOn","keyup","$event","_k","keyCode","key","model","value","callback","$$v","expression","slot","directives","rawName","_s","disabled","on","click","_e","href","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-6874.1c5a6d1b.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=d73f7252&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=d73f7252&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"login-main\"},[_c('div',{staticClass:\"login-main-left\"}),_c('div',{staticClass:\"login-main-right\"},[_c('div',{staticClass:\"login-main-right-arrow\"}),_c('transition',{attrs:{\"name\":\"loginform\"}},[(_vm.showPaper)?_c('div',{staticClass:\"login-paper login-form-box\"},[_c('div',{staticClass:\"login-title\"},[_vm._v(\"云粒智慧警务\")]),_c('div',{staticClass:\"login-title-en\"},[_vm._v(\"YUN LI ZHI HUI JING WU\")]),_c('div',{staticClass:\"login-form-inputs\"},[_c('el-input',{staticClass:\"login-input\",attrs:{\"placeholder\":\"请输入账号\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doLogin($event)}},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}},[_c('i',{staticClass:\"material-icons menu-icons\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"account_box\")])]),_c('el-input',{staticClass:\"login-input\",attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doLogin($event)}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}},[_c('i',{staticClass:\"material-icons menu-icons\",attrs:{\"slot\":\"suffix\"},slot:\"suffix\"},[_vm._v(\"lock\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.errMsg),expression:\"errMsg\"}],staticClass:\"login-msg\"},[_c('i',{staticClass:\"el-icon-error\"}),_vm._v(\" \"+_vm._s(_vm.errMsg)+\"\\n              \")]),_c('el-button',{staticClass:\"do-login-btn\",attrs:{\"type\":\"primary\",\"disabled\":_vm.inputFull},on:{\"click\":_vm.doLogin}},[_vm._v(\"登陆\")])],1)]):_vm._e()])],1),_c('div',{staticClass:\"backgroud-pic-box\"})]),_c('div',{staticClass:\"login-footer\"},[_vm._v(\"© \"+_vm._s(_vm.curYear)+\" \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.copyRight))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-main\">\r\n        <div class=\"login-main-left\"></div>\r\n        <div class=\"login-main-right\">\r\n        <div class=\"login-main-right-arrow\"></div>\r\n      <transition name=\"loginform\">\r\n        <div class=\"login-paper login-form-box\" v-if=\"showPaper\">\r\n            <div class=\"login-title\">云粒智慧警务</div>\r\n            <div class=\"login-title-en\">YUN LI ZHI HUI JING WU</div>\r\n            <div class=\"login-form-inputs\">\r\n                <el-input\r\n                    placeholder=\"请输入账号\"\r\n                    class=\"login-input\"\r\n                    v-model=\"username\" @keyup.native.enter=\"doLogin\">\r\n                    <i slot=\"suffix\" class=\"material-icons menu-icons\">account_box</i>\r\n                </el-input>\r\n                <el-input\r\n                    placeholder=\"请输入密码\"\r\n                    type=\"password\"\r\n                    class=\"login-input\"\r\n                    v-model=\"password\" @keyup.native.enter=\"doLogin\">\r\n                    <i slot=\"suffix\" class=\"material-icons menu-icons\">lock</i>\r\n                </el-input>\r\n                <div class=\"login-msg\" v-show=\"errMsg\">\r\n                    <i class=\"el-icon-error\"></i> {{errMsg}}\r\n                </div>\r\n                <el-button type=\"primary\"  class=\"do-login-btn\" :disabled=\"inputFull\" @click=\"doLogin\">登陆</el-button>\r\n\r\n            </div>\r\n        </div>\r\n      </transition>\r\n      </div>\r\n      <div class=\"backgroud-pic-box\"></div>\r\n    </div>\r\n\r\n    <div class=\"login-footer\">© {{curYear}} <a href=\"#\">{{copyRight}}</a> </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport setting from '@/config.js'\r\nconst thisYear = new Date().getFullYear()\r\nexport default {\r\n  name: 'login',\r\n  data () {\r\n    return {\r\n      copyRight: setting.copyRight, // 版权\r\n      curYear: thisYear, // 当年时间\r\n      showSlogan: false, // slogan是否显示\r\n      showPaper: false, // 登陆框是否显示\r\n      activeLoginType: 'password', // 登陆方式：password 账号密码登陆 code 扫码登陆\r\n      username: '', // 用户名\r\n      password: '', // 密码\r\n      errMsg: '', // 错误信息\r\n      loginDoing: false // 正在登录中\r\n    }\r\n  },\r\n  mounted () {\r\n    setTimeout(() => {\r\n      this.showSlogan = true\r\n      this.showPaper = true\r\n    }, 100)\r\n  },\r\n  methods: {\r\n    /**\r\n    * @description  修改登陆方式\r\n    */\r\n    changeLoginType (tab, event) {\r\n      this.activeLoginType = tab.name\r\n    },\r\n    /**\r\n     * @description 进行登陆\r\n     */\r\n    doLogin () {\r\n      this.errMsg = ''\r\n      if (this.loginDoing) {\r\n        return false\r\n      }\r\n      const params = {\r\n        userName: this.username.replace(/\\s+/g, ''),\r\n        password: this.password.replace(/\\s+/g, '')\r\n      }\r\n\r\n      // 发送登陆请求\r\n      this.loginDoing = true\r\n      this.$apis.user.doLogin(params)\r\n        .then((res) => {\r\n          if (res.code !== '0000') {\r\n            this.errMsg = res.data\r\n            this.loginDoing = false\r\n            return false\r\n          }\r\n          // 更改 Vuex 用户状态\r\n          this.$store.commit('user/set', res.data)\r\n          // 成功之后消息提醒\r\n          this.$notify({\r\n            message: '恭喜你，登陆成功',\r\n            type: 'success',\r\n            position: 'top-right',\r\n            duration: 1000,\r\n            onClose: () => {\r\n              this.loginDoing = false\r\n              this.$router.push({ name: 'index' }) // 登陆成功跳转首页\r\n            }\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n          this.loginDoing = false\r\n        })\r\n    }\r\n  },\r\n  computed: {\r\n    /**\r\n     * @description 账号密码不能为空\r\n     */\r\n    inputFull () {\r\n      if (!this.username.replace(/\\s+/g, '') || !this.password.replace(/\\s+/g, '')) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import './login.styl'\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=d73f7252&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=d73f7252&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d73f7252\",\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports"],"sourceRoot":""}